<html>
{% extends 'base.html' %}
{% block pagetitle %}
Leaf Disease Detection
{% endblock pagetitle %}

{% block body %}
<div>
    <div class="container">
        <!-- For demo purpose -->
        <div class="row mb-5 text-center text-white">
            <div class="col-lg-10 mx-auto">
                <h1 class="display-4" style="padding-top: 10%; font-weight: 600; color: rgb(4, 54, 4);"><b>Know The Disease</b></h1>
                <p class="lead" style="font-weight: 500; color: black; font-size: large;">Leaf Disease Detection</p>
            </div>
        </div>
        <!-- End -->
        <div class="row ">
            <div class="">
                <div class="p-5 bg-white shadow rounded-lg" style="height: 95%;">
                    <!-- <img
                        src="temp.png"
                        height="300" alt="" width="200" class="d-block mx-auto mb-4 rounded-pill"> -->
                    <div id="image-preview" class="text-center pt-3"></div>
                    <form action="/submit" method="POST" enctype="multipart/form-data">
                        <center>
                            <div class="custom-file overflow-hidden mb-4">
                                <input type="file" id="actual-btn" hidden name="image" onchange="previewImage(event)" />
                                <label for="actual-btn">Choose File</label><br>
                                <span id="file-chosen">No file chosen</span>
                            </div>
                        <!-- End -->                       
                        <!-- Custom bootstrap upload file-->
                        
                            <a class="mx-2"><button type="submit" class="btn btn-outline-success">Submit</button></a>
                        </center>
                    </form>
                    <!-- End -->
                </div>
            </div>
            <div class="col mx-auto">
                <div class="p-5 bg-white shadow rounded-lg" style="height: 95%;">

                    <h5><b>Why is it necessary to detect disease in plant ?</b></h5>
                    <p style="padding-top: 3%;">
                        Detecting plant diseases early is important.<br> 
                        Accurate diagnosis helps apply 
                        <ul>
                            <li>proper control measures </li>
                            <li>preventing crop losses</li>
                            <li><strong>make your efforts worthwhile!</strong></li>
                        </ul>
                    </p>
                </div>
            </div>
            <div class="col mx-auto">
                <div class="p-5 bg-white shadow rounded-lg" style="height: 95%;">
                    <h5><b>Prevent Plant Disease follow below steps:</b></h5>
                    <ol style="padding-top: 3%;">
                        <li>Follow <strong>Good Sanitation Practices</strong>.</li>
                        <li><strong>Fertilize</strong> to Keep Your Plants Healthy.</li>
                        <li><strong>Inspect</strong> Plants for Diseases Before You Bring Them Home.</li>
                        <li>Allow the <strong>Soil to Warm</strong> Before Planting.</li>
                        <li>Ensure a Healthy Vegetable Garden By <strong>Rotating Crops</strong>.</li>
                        <li>Provide <strong>Good Air Circulation</strong></li>
                        <li><strong>Remove Diseased</strong> Stems and Foliage</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const actualBtn = document.getElementById('actual-btn');
    const fileChosen = document.getElementById('file-chosen');
    const imagePreview = document.getElementById('image-preview');

    actualBtn.addEventListener('change', function () {
        fileChosen.textContent = this.files[0].name;
        previewImage(this.files[0]);
    });

    function previewImage(file) {
        const reader = new FileReader();

        reader.onload = function () {
            const img = document.createElement('img');
            img.src = reader.result;
            img.style.maxWidth = '100%';
            img.style.maxHeight = '200px';
            imagePreview.innerHTML = '';
            imagePreview.appendChild(img);
        };

        if (file) {
            reader.readAsDataURL(file);
        }
    }
</script>

{% endblock body %}
